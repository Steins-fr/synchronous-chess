<div id="game">
    <div class="player">Joueur Noir : {{ gameSession.configuration.blackPlayer || 'En attente' }}</div>
    <div id="board-section">
        <div id="chess-board">
            <app-chess-board [fenBoard]="gameSession.board" [validPlayBoard]="validPlayBoard"
                (piecePicked)="piecePicked($event)" (pieceDropped)="pieceDropped($event)"
                (pieceClicked)="pieceClicked($event)" [grabColor]="moveColor()" [movePreview]="gameSession.movePreview">
            </app-chess-board>
            <div id="promotion-title" *ngIf="isPromotion()">
                <span>Promotion</span>
            </div>
            <div class="promotion-list black-player" *ngIf="isPromotion() && displayBlackInteractions()">
                <app-chess-promotion [color]="blackColor" (pieceType)="gameSession.promote($event)">
                </app-chess-promotion>
            </div>
            <div class="promotion-list white-player" *ngIf="isPromotion() && displayWhiteInteractions()">
                <app-chess-promotion [color]="whiteColor" (pieceType)="gameSession.promote($event)">
                </app-chess-promotion>
            </div>
        </div>
        <div id="right-column">
            <div class="player-information black-player">
                <div class="player-identity">
                    <app-board-piece [piece]="blackPiece"></app-board-piece>
                </div>
                <ng-container *ngIf="!gameSession.game.isCheckmate()">
                    <div>Dernier coup :</div>
                    <div>{{ blackLastMove() || 'aucun'}}</div>
                    <div>{{ blackHasPlayed() ? 'a joué' : 'en attente' }}</div>
                </ng-container>
                <div class="check" *ngIf="gameSession.game.isBlackInCheck && !gameSession.game.isBlackInCheckmate">Échec
                </div>
                <div class="check" *ngIf="gameSession.game.isBlackInCheckmate">Échec et mat</div>
                <button *ngIf="displayBlackInteractions() && isMoveTurn() && !gameSession.game.isBlackInCheck"
                    mat-stroked-button color="primary" class="skip-button" (click)="skip()">
                    Passer
                </button>
            </div>
            <div>Tour : {{ turnType() }}</div>
            <div class="player-information white-player">
                <button *ngIf="displayWhiteInteractions() && isMoveTurn() && !gameSession.game.isWhiteInCheck"
                    mat-stroked-button color="primary" class="skip-button" (click)="skip()">
                    Passer
                </button>
                <div class="check" *ngIf="gameSession.game.isWhiteInCheck && !gameSession.game.isWhiteInCheckmate">Échec
                </div>
                <div class="check" *ngIf="gameSession.game.isWhiteInCheckmate">Échec et mat</div>
                <ng-container *ngIf="!gameSession.game.isCheckmate()">
                    <div>{{ whiteHasPlayed() ? 'a joué' : 'en attente' }}</div>
                    <div>Dernier coup :</div>
                    <div>{{ whiteLastMove() || 'aucun'}}</div>
                </ng-container>
                <div class="player-identity">
                    <app-board-piece [piece]="whitePiece"></app-board-piece>
                </div>
            </div>
        </div>
    </div>
    <div class="player">Joueur Blanc : {{ gameSession.configuration.whitePlayer || 'En attente' }}</div>
    <div class="spectators">Spectateurs : {{ gameSession.spectatorNumber }}</div>
</div>